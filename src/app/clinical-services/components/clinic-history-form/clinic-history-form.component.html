<div class="container my-5">
  <h4>{{ clinicHistory ? 'Editar Historia Clínica' : 'Crear Historia Clínica' }}</h4>
  <mat-divider class="my-4"></mat-divider>
  <div *ngIf="metaTableNames" class="d-flex flex-column justify-content-center align-items-center flex-wrap">
    <mat-form-field class="w-100 mw-400" appearance="outline">
      <mat-label>Nombre de la tabla:</mat-label>
      <mat-select #mySelect (valueChange)="onChangeTable($event)">
        <mat-option *ngFor="let table of metaTableNames" [value]="table.id">{{ table.mtn_tablename }}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <mat-divider class="my-4"></mat-divider>

  <div *ngIf="metaFieldsForms">
    <form *ngFor="let form of metaFieldsForms" [formGroup]="form">
      <div class="d-flex justify-content-center align-items-center">
        <mat-form-field class="mw-400 minw-200" appearance="outline">
          <mat-label>Nombre del campo:</mat-label>
          <input matInput formControlName="name" />
        </mat-form-field>

        <mat-form-field class="mw-400 minw-200 mx-2" appearance="outline">
          <mat-label>Valor:</mat-label>
          <input matInput formControlName="data_value" />
        </mat-form-field>
      </div>
    </form>
  </div>

  <div class="d-flex align-items-center justify-content-end">
    <button (click)="onSubmit()" [disabled]="!metaFieldsForms || !validForms()" mat-raised-button color="primary" class="button">
      {{ clinicHistory ? 'Aceptar' : 'Crear' }}
    </button>
  </div>
</div>
