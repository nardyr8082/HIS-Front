<div *ngIf="filters" class="d-flex flex-row flex-wrap align-items-center">
  <ng-container *ngFor="let filter of filters">
    <form [formGroup]="filterForm">
      <mat-form-field class="mx-1">
        <mat-label>{{ filter.title }}</mat-label>
        <input matInput (keyup)="searchTerm.next()" formControlName="{{ filter.name }}" />
      </mat-form-field>
    </form>
  </ng-container>
  <button mat-icon-button title="Reiniciar busqueda" (click)="resetFilters()">
    <mat-icon>clear</mat-icon>
  </button>
</div>

<div *ngIf="data" class="mat-elevation-z8 w-100">
  <table mat-table [dataSource]="data" matSort>
    <ng-container *ngFor="let column of displayedColumns; let i = index" matColumnDef="{{ column }}">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ columnsName[i] }}</th>
      <td mat-cell *matCellDef="let row">{{ row[column] }}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

    <!-- Row shown when there is no matching data. -->
    <!-- <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell" colspan="4">No data matching the filter "{{ input.value }}"</td>
    </tr> -->
  </table>

  <mat-paginator (page)="onChangePage($event)" [length]="dataCount" [pageSizeOptions]="paginationSize"></mat-paginator>
</div>
